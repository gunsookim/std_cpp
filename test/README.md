# std_cpp
아두이노 설계
필요 기능: 블루투스(hm 10), 서보 모터, 그릇 위치 저장(전역 변수), 배열 ing(서보 보터-재료 연결)

1. 핸드폰 - 아두이노 연결: 블루투스 통신 - 입력이 있을 때까지 대기, 입력이 많은 경우 차례대로 수행
2. 블루투스로 수신한 신호를 통해 서보 모터 제어: (벨트부분 작동 -> 정지 -> 재료 부분 작동) 반복
3. 순서: 앱(메뉴 입력) -> 블루투스 송신 -> 블루투스 수신(아두이노) -> 메뉴에 따라 다른 순서 동작
    메뉴 ex) 라면: 벨트 작동 -> 벨트 정지(스프 부분 도착) -> 스프 서보 모터 동작(재료 투하) -> 벨트 이동 -> 벨트 정지(후레이크 부분 도착) -> 후레이크 서보 모터 동작(재료 투하) -> 벨트 이동 -> 벨트 정지(인덕션 도착) -> ... -> 인덕션 서보 모터 동작및 정지(불 on) -> 인덕션 서보 모터 동작및 정지(불 off) -> 조리 완료 
    조리 완료 메세지 블루투스 송신 -> 앱 블루투스 수신
4. 필요 함수? - 재료 부분 서보 모터 번호 설정: 메뉴에 따라 번호 순서로 재료 투하
            - 서보 모터 작동 함수 convyor(현재, 목표): (현재 위치 - 목표 재료 번호)*동작 시간
            - 재료 투하 함수 cook(메뉴): 배열 사용 
                for(int i = 0; i < sizeof(ing); i++){
                convyor(현재 위치, 목표 위치)
                // 재료 투하 코드 입력
                }
                convyor(현재 위치, 인덕션 위치)
메뉴 저장 배열 요소 구성: ([메뉴이름], [재료(순서)], [재료(그람수)])

추가기능 1 - 메뉴 관리
서보 모터 동작: 1. 단일방향 회전, 2. 왕복 운동, 3. 2개 이상 결합을 통한 로봇 팔
메뉴 저장: 1. 아두이노 자체 저장, 2. 앱을 통해 배열 입력 + 아두이노에 저장, 3. 카메라 센서를 통해 아두이노 에 저장, 4. 어플에 메뉴 저장 + 아두이노에 배열만 입력
-> 문제점: 재료마다 하나의 동작만 가능 -> 동작의 다양화 방안 모색 필요

추가기능 2 - 주문 정보 처리
앱으로 주문시 아두이노로 주문 번호, 메뉴, 주문자 위치값 - 블루투스
아두이노 동작 - 배열 [주문번호, 메뉴, 좌표값]을 인수로 함수 실행, 조리완료시 주문 번호와 일치함을 저장 해야됨
-> 큐를 이용해 스택 저장 필요: 조리완료시 역순으로 출력
+ 주문이 일정 수를 넘을 경우, 대기 시간 or 주문 불가 알림 필요

추가기능 3 - 재료 관리
재료 통에 담긴 재료에 따라 메뉴가 달라지므로, 통에 담긴 재료가 바뀔 경우 정보가 업뎃 되어야함
-> 1. 재료를 번호로 변환하여 저장 2. 앱에서 재료저장 + 아두이노 동작 획일화 

추가기능 4 - 소스 투하 기능(ex. 후추 소금 마요네즈...)
-> 로봇 팔 이용 ?

추가기능 5 - 한번에 많은 메뉴 제작
인덕션 추가, 앞 메뉴 제작 동안 다음 메뉴도 제작 가능 해야함
-> 동시 동작 코드 고민 필요.

위 기능들을 추가할 경우, 아두이노의 매모리가 부족할 수 있음
-> 웹 서버와 연결하여 서버에서 재료, 메뉴, 주문 정보 등을 처리하고 아두이노는 단순 동작만..?


22/09/23 - 회의 결과, 기존 목표에 한계가 존재하므로 목표 수정이 필요하다는 의견이 나옴.
    한계: '자동 조리기'의 재료를 담을 통이 무한정 늘어날 수 없다는 물리적 한계(통이 늘어날 경우, 크기도 커짐)
    대안: '자동 조리기'의 기능을 라면 조리로 한정 + a* 알고리즘을 통한 음식 배달 최적 경로 생성 기능 추가
    추가 의견: 라면 용기 셋팅기능 필요, 물 공급용 펌프 필요, 인덕션 제어 기능 필요

22/09/24 - 현황: 서보 모터 작동 확인, 외부 전력 필요성 확인, 메뉴에 따른 서보 모터 동작 알고리즘 초안 완성

22/09/24 - 추가 기능 및 모듈
    필요 기능: 용기 자동 세팅, 펌프를 통한 물 공급, 인덕션 제어, 블루투스 제어 코드와 결합 필요
    추가 부품 및 모듈: 6v 건전지 홀더(AA 1.5v 4개) 3개, 펌프, 릴레이 모듈(인덕션 제어), 추가 서보 모터 

22/09/26 - 회의: 기존 기술과의 차별점 필요
22/09/30 - 회의: 배터리 홀더, 펌프, 릴레이 모듈 추가 구매 완료. 경로 알고리즘 진행중
22/10/02 - 펌프 작동을 위한 모터 드라이버 필요
22/10/04 - 회의: 중간 발표 구체화(발표안 구성, 목록, 기말까지 계획 등등), 하드웨어 설계 회의
22/10/07 - 회의: 워터펌프(모터드라이버) 등 추가 모듈 연결 및 동작 확인, 발표자료 작성 
